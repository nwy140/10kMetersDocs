<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.2" xml:lang="en-US">
  <compounddef id="_custom_device_usages_8cs" kind="file" language="C#">
    <compoundname>CustomDeviceUsages.cs</compoundname>
    <innerclass refid="class_init_custom_device_usages" prot="public">InitCustomDeviceUsages</innerclass>
    <innerclass refid="class_custom_device_usages" prot="public">CustomDeviceUsages</innerclass>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="namespace_unity_engine" kindref="compound">UnityEngine</ref>;</highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="namespace_unity_engine" kindref="compound">UnityEngine</ref>.<ref refid="namespace_unity_engine_1_1_input_system" kindref="compound">InputSystem</ref>;</highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>UNITY_EDITOR</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="keyword">using</highlight><highlight class="normal"><sp/><ref refid="namespace_unity_editor" kindref="compound">UnityEditor</ref>;</highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Say<sp/>you<sp/>want<sp/>to<sp/>distinguish<sp/>a<sp/>device<sp/>not<sp/>only<sp/>by<sp/>its<sp/>type<sp/>(e.g.<sp/>&quot;PS4<sp/>Controller&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="comment">//<sp/>but<sp/>also<sp/>by<sp/>the<sp/>way<sp/>it<sp/>is<sp/>used.<sp/>This<sp/>is<sp/>a<sp/>common<sp/>scenario<sp/>for<sp/>VR<sp/>controllers,<sp/>for</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="comment">//<sp/>example,<sp/>where<sp/>the<sp/>same<sp/>type<sp/>of<sp/>controller<sp/>may<sp/>be<sp/>used<sp/>once<sp/>in<sp/>the<sp/>left<sp/>hand<sp/>and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="comment">//<sp/>once<sp/>in<sp/>the<sp/>right<sp/>hand.<sp/>However,<sp/>the<sp/>need<sp/>for<sp/>distinguishing<sp/>devices<sp/>in<sp/>a<sp/>similar</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="comment">//<sp/>manner<sp/>can<sp/>pop<sp/>up<sp/>in<sp/>a<sp/>variety<sp/>of<sp/>situations.<sp/>For<sp/>example,<sp/>on<sp/>Switch<sp/>it<sp/>is<sp/>used</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="comment">//<sp/>to<sp/>distinguish<sp/>the<sp/>current<sp/>orientation<sp/>of<sp/>the<sp/>Joy-Con<sp/>controller<sp/>(&quot;Horizontal&quot;<sp/>vs.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="comment">//<sp/>&quot;Vertical&quot;)<sp/>allowing<sp/>you<sp/>to<sp/>take<sp/>orientation<sp/>into<sp/>account<sp/>when<sp/>binding<sp/>actions.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="comment">//<sp/>The<sp/>input<sp/>system<sp/>allows<sp/>you<sp/>to<sp/>distinguish<sp/>devices<sp/>based<sp/>on<sp/>the<sp/>&quot;usages&quot;<sp/>assigned</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="comment">//<sp/>to<sp/>them.<sp/>This<sp/>is<sp/>a<sp/>generic<sp/>mechanism<sp/>that<sp/>can<sp/>be<sp/>used<sp/>to<sp/>tag<sp/>devices<sp/>with<sp/>arbitrary</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="comment">//<sp/>custom<sp/>usages.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="comment">//<sp/>To<sp/>make<sp/>this<sp/>more<sp/>concrete,<sp/>let&apos;s<sp/>say<sp/>we<sp/>have<sp/>a<sp/>game<sp/>where<sp/>two<sp/>players<sp/>control</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="comment">//<sp/>the<sp/>game<sp/>together<sp/>each<sp/>one<sp/>using<sp/>a<sp/>gamepad<sp/>but<sp/>each<sp/>receiving<sp/>control<sp/>over<sp/>half</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="comment">//<sp/>the<sp/>actions<sp/>in<sp/>the<sp/>game.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="comment">//<sp/>NOTE:<sp/>What<sp/>we<sp/>do<sp/>here<sp/>is<sp/>only<sp/>one<sp/>way<sp/>to<sp/>achieve<sp/>this<sp/>kind<sp/>of<sp/>setup.<sp/>We<sp/>could</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/>alternatively<sp/>go<sp/>and<sp/>just<sp/>create<sp/>one<sp/>control<sp/>scheme<sp/>for<sp/>the<sp/>first<sp/>player</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/>and<sp/>one<sp/>control<sp/>scheme<sp/>for<sp/>the<sp/>second<sp/>one<sp/>and<sp/>then<sp/>have<sp/>two<sp/>PlayerInputs</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="comment">//<sp/><sp/><sp/><sp/><sp/><sp/><sp/>each<sp/>using<sp/>one<sp/>of<sp/>the<sp/>two.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="comment">//<sp/>So,<sp/>what<sp/>we&apos;d<sp/>like<sp/>to<sp/>do<sp/>is<sp/>tag<sp/>one<sp/>gamepad<sp/>with<sp/>&quot;Player1&quot;<sp/>and<sp/>one<sp/>gamepad<sp/>with</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="comment">//<sp/>with<sp/>&quot;Player2&quot;.<sp/>Then,<sp/>in<sp/>the<sp/>actions<sp/>we<sp/>can<sp/>set<sp/>up<sp/>a<sp/>binding<sp/>scheme<sp/>specifically</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="comment">//<sp/>for<sp/>this<sp/>style<sp/>of<sp/>play<sp/>and<sp/>bind<sp/>actions<sp/>such<sp/>that<sp/>are<sp/>driven<sp/>either<sp/>from<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="comment">//<sp/>first<sp/>player&apos;s<sp/>gamepad<sp/>or<sp/>from<sp/>the<sp/>second<sp/>player&apos;s<sp/>gamepad<sp/>(or<sp/>from<sp/>either).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight><highlight class="comment">//<sp/>The<sp/>first<sp/>bit<sp/>we<sp/>need<sp/>for<sp/>this<sp/>is<sp/>to<sp/>tell<sp/>the<sp/>input<sp/>system<sp/>that<sp/>&quot;Player1&quot;<sp/>and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="comment">//<sp/>&quot;Player2&quot;<sp/>are<sp/>usages<sp/>that<sp/>we<sp/>intend<sp/>to<sp/>apply<sp/>to<sp/>gamepads.<sp/>For<sp/>this,<sp/>we<sp/>need</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="comment">//<sp/>to<sp/>modify<sp/>the<sp/>&quot;Gamepad&quot;<sp/>layout.<sp/>We<sp/>do<sp/>so<sp/>by<sp/>applying<sp/>what&apos;s<sp/>called<sp/>a<sp/>&quot;layout</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="comment">//<sp/>override&quot;.<sp/>This<sp/>needs<sp/>to<sp/>happen<sp/>during<sp/>initialization<sp/>so<sp/>here<sp/>we<sp/>go:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>UNITY_EDITOR</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal">[InitializeOnLoad]</highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40" refid="class_init_custom_device_usages" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_init_custom_device_usages" kindref="compound">InitCustomDeviceUsages</ref></highlight></codeline>
<codeline lineno="41"><highlight class="normal">{</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="class_init_custom_device_usages" kindref="compound">InitCustomDeviceUsages</ref>()</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Initialize();</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/>[RuntimeInitializeOnLoadMethod]</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Initialize()</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Here<sp/>we<sp/>register<sp/>the<sp/>layout<sp/>override<sp/>with<sp/>the<sp/>system.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>layout<sp/>override<sp/>is<sp/>just<sp/>a<sp/>fragment<sp/>of<sp/>layout<sp/>information</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>in<sp/>JSON<sp/>format.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>key<sp/>property<sp/>here<sp/>is<sp/>&quot;commonUsages&quot;<sp/>which<sp/>tells<sp/>the<sp/>system</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>that<sp/>&quot;Player1&quot;<sp/>and<sp/>&quot;Player2&quot;<sp/>are<sp/>possible<sp/>usages<sp/>applied<sp/>to<sp/>devices</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>using<sp/>the<sp/>given<sp/>layout<sp/>(&quot;Gamepad&quot;<sp/>in<sp/>our<sp/>case).</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>InputSystem.RegisterLayoutOverride(</highlight><highlight class="stringliteral">@&quot;</highlight></codeline>
<codeline lineno="59"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="60"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;name&quot;&quot;<sp/>:<sp/>&quot;&quot;GamepadPlayerUsageTags&quot;&quot;,</highlight></codeline>
<codeline lineno="61"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;extend&quot;&quot;<sp/>:<sp/>&quot;&quot;Gamepad&quot;&quot;,</highlight></codeline>
<codeline lineno="62"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;commonUsages&quot;&quot;<sp/>:<sp/>[</highlight></codeline>
<codeline lineno="63"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;&quot;Player1&quot;&quot;,<sp/>&quot;&quot;Player2&quot;&quot;</highlight></codeline>
<codeline lineno="64"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]</highlight></codeline>
<codeline lineno="65"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="66"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Now<sp/>that<sp/>we<sp/>have<sp/>done<sp/>this,<sp/>you<sp/>will<sp/>see<sp/>that<sp/>when<sp/>using<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>control<sp/>picker<sp/>in<sp/>the<sp/>action<sp/>editor,<sp/>that<sp/>there<sp/>is<sp/>now<sp/>a</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>&quot;Gamepad<sp/>(Player1)&quot;<sp/>and<sp/>&quot;Gamepad<sp/>(Player2)&quot;<sp/>entry<sp/>underneath</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>&quot;Gamepad&quot;.<sp/>When<sp/>you<sp/>select<sp/>those,<sp/>you<sp/>can<sp/>bind<sp/>specifically</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>to<sp/>a<sp/>gamepad<sp/>with<sp/>the<sp/>respective<sp/>device<sp/>usage.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Also,<sp/>you<sp/>will<sp/>now<sp/>be<sp/>able<sp/>to<sp/>*require*<sp/>a<sp/>device<sp/>with<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>given<sp/>usage<sp/>in<sp/>a<sp/>control<sp/>scheme.<sp/>So,<sp/>when<sp/>creating<sp/>a<sp/>control</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>scheme<sp/>representing<sp/>the<sp/>shared<sp/>Player1+Player2<sp/>controls,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>you<sp/>can<sp/>add<sp/>one<sp/>&quot;Gamepad<sp/>(Player1)&quot;<sp/>and<sp/>one<sp/>&quot;Gamepad<sp/>(Player2)&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>requirement.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>You<sp/>can<sp/>see<sp/>an<sp/>example<sp/>setup<sp/>for<sp/>how<sp/>this<sp/>would<sp/>look<sp/>in<sp/>an</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>.inputactions<sp/>file<sp/>in<sp/>the<sp/>TwoPlayerControls.inputactions<sp/>file</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>that<sp/>is<sp/>part<sp/>of<sp/>this<sp/>sample.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="84"><highlight class="normal">}</highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight><highlight class="comment">//<sp/>However,<sp/>we<sp/>are<sp/>still<sp/>missing<sp/>a<sp/>piece.<sp/>At<sp/>runtime,<sp/>no<sp/>gamepad<sp/>will</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight><highlight class="comment">//<sp/>receive<sp/>either<sp/>the<sp/>&quot;Player1&quot;<sp/>or<sp/>the<sp/>&quot;Player2&quot;<sp/>usage<sp/>assignment<sp/>yet.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"></highlight><highlight class="comment">//<sp/>So<sp/>none<sp/>of<sp/>the<sp/>bindings<sp/>will<sp/>work<sp/>yet.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"></highlight><highlight class="comment">//<sp/>To<sp/>assign<sp/>the<sp/>usage<sp/>tags<sp/>to<sp/>the<sp/>devices,<sp/>we<sp/>need<sp/>to<sp/>call</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight><highlight class="comment">//<sp/>InputSystem.AddDeviceUsage<sp/>or<sp/>SetDeviceUsage.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"></highlight><highlight class="comment">//<sp/>We<sp/>could<sp/>set<sp/>this<sp/>up<sp/>any<sp/>which<sp/>way.<sp/>As<sp/>a<sp/>demonstration,<sp/>let&apos;s<sp/>create</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight><highlight class="comment">//<sp/>a<sp/>MonoBehaviour<sp/>here<sp/>that<sp/>simply<sp/>associates<sp/>a<sp/>specific<sp/>tag<sp/>with<sp/>a</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight><highlight class="comment">//<sp/>specific<sp/>gamepad<sp/>index.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight><highlight class="comment">//</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight><highlight class="comment">//<sp/>In<sp/>practice,<sp/>you<sp/>would<sp/>probably<sp/>want<sp/>to<sp/>do<sp/>the<sp/>assignment<sp/>in<sp/>a<sp/>place</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight><highlight class="comment">//<sp/>where<sp/>you<sp/>handle<sp/>your<sp/>player<sp/>setup/joining.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="99" refid="class_custom_device_usages" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_custom_device_usages" kindref="compound">CustomDeviceUsages</ref><sp/>:<sp/>MonoBehaviour</highlight></codeline>
<codeline lineno="100"><highlight class="normal">{</highlight></codeline>
<codeline lineno="101" refid="class_custom_device_usages_1ac36c418a8cbac3185eaba009703a8696" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_custom_device_usages_1ac36c418a8cbac3185eaba009703a8696" kindref="member">gamepadIndex</ref>;</highlight></codeline>
<codeline lineno="102" refid="class_custom_device_usages_1a156abf236f057bde5e404b5e03f43399" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">string</highlight><highlight class="normal"><sp/><ref refid="class_custom_device_usages_1a156abf236f057bde5e404b5e03f43399" kindref="member">usageTag</ref>;</highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">private</highlight><highlight class="normal"><sp/>Gamepad<sp/>m_Gamepad;</highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106" refid="class_custom_device_usages_1a890d171f5502924694d587740eb03f9d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_custom_device_usages_1a890d171f5502924694d587740eb03f9d" kindref="member">OnEnable</ref>()</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<ref refid="class_custom_device_usages_1ac36c418a8cbac3185eaba009703a8696" kindref="member">gamepadIndex</ref><sp/>&gt;=<sp/>0<sp/>&amp;&amp;<sp/><ref refid="class_custom_device_usages_1ac36c418a8cbac3185eaba009703a8696" kindref="member">gamepadIndex</ref><sp/>&lt;<sp/>Gamepad.all.Count)</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_Gamepad<sp/>=<sp/>Gamepad.all[<ref refid="class_custom_device_usages_1ac36c418a8cbac3185eaba009703a8696" kindref="member">gamepadIndex</ref>];</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>InputSystem.AddDeviceUsage(m_Gamepad,<sp/><ref refid="class_custom_device_usages_1a156abf236f057bde5e404b5e03f43399" kindref="member">usageTag</ref>);</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight></codeline>
<codeline lineno="115" refid="class_custom_device_usages_1af65d1e370e81ab249274c29ba17745e3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_custom_device_usages_1af65d1e370e81ab249274c29ba17745e3" kindref="member">OnDisable</ref>()</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>If<sp/>we<sp/>grabbed<sp/>a<sp/>gamepad<sp/>and<sp/>it&apos;s<sp/>still<sp/>added<sp/>to<sp/>the<sp/>system,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>remove<sp/>the<sp/>usage<sp/>tag<sp/>we<sp/>added.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(m_Gamepad<sp/>!=<sp/></highlight><highlight class="keyword">null</highlight><highlight class="normal"><sp/>&amp;&amp;<sp/>m_Gamepad.added)</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>InputSystem.RemoveDeviceUsage(m_Gamepad,<sp/><ref refid="class_custom_device_usages_1a156abf236f057bde5e404b5e03f43399" kindref="member">usageTag</ref>);</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>m_Gamepad<sp/>=<sp/></highlight><highlight class="keyword">null</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="123"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="C:/_SSDSPEEDUP/2021/clone/gps1_manadesigner/GPS1-Manadesigner/Assets/Samples/Input System/1.0.2/Custom Device Usages/CustomDeviceUsages.cs"/>
  </compounddef>
</doxygen>
